import { Category, Product } from '../types';

export const CATEGORY_IDS = {
  analgesics: '11111111-1111-1111-1111-111111111111',
  vitamins: '22222222-2222-2222-2222-222222222222',
  coldFlu: '33333333-3333-3333-3333-333333333333',
  digestive: '44444444-4444-4444-4444-444444444444',
  skincare: '55555555-5555-5555-5555-555555555555',
  kids: '66666666-6666-6666-6666-666666666666',
} as const;

export const categories: Category[] = [
  {
    id: CATEGORY_IDS.analgesics,
    name: 'Обезболяващи',
    description: 'Лекарства за облекчаване на болка и възпаление',
    icon: 'pill',
  },
  {
    id: CATEGORY_IDS.vitamins,
    name: 'Витамини',
    description: 'Хранителни добавки и витамини',
    icon: 'heart',
  },
  {
    id: CATEGORY_IDS.coldFlu,
    name: 'Простуда и грип',
    description: 'Лекарства за простуда, кашлица и грип',
    icon: 'thermometer',
  },
  {
    id: CATEGORY_IDS.digestive,
    name: 'Стомашно-чревни',
    description: 'Лекарства за храносмилателни проблеми',
    icon: 'stomach',
  },
  {
    id: CATEGORY_IDS.skincare,
    name: 'Кожа и коса',
    description: 'Козметика и дермато-козметични продукти',
    icon: 'droplet',
  },
  {
    id: CATEGORY_IDS.kids,
    name: 'Детски продукти',
    description: 'Специализирани продукти за деца',
    icon: 'baby',
  },
];

export const products: Product[] = [
  {
    id: 1,
    name: 'Парацетамол 500мг',
    nameEn: 'Paracetamol 500mg',
    description:
      'Ефективно обезболяващо и жаропонижаващо средство за възрастни и деца над 12 години',
    descriptionEn:
      'Effective pain reliever and fever reducer for adults and children over 12 years',
    price: 2.3,
    stockQuantity: 150,
    imageUrl:
      'https://images.pexels.com/photos/3683074/pexels-photo-3683074.jpeg?auto=compress&cs=tinysrgb&w=400',
    categoryId: CATEGORY_IDS.analgesics,
    requiresPrescription: false,
    activeIngredient: 'Парацетамол',
    activeIngredientEn: 'Paracetamol',
    dosage: '500мг',
    dosageEn: '500mg',
    manufacturer: 'Актавис',
    manufacturerEn: 'Actavis',
    reviewCount: 89,
  },
  {
    id: 2,
    name: 'Ибупрофен 400мг',
    nameEn: 'Ibuprofen 400mg',
    description: 'Противовъзпалително и обезболяващо средство за мускулни и ставни болки',
    descriptionEn: 'Anti-inflammatory and pain relief for muscle and joint pain',
    price: 3.17,
    stockQuantity: 95,
    imageUrl:
      'https://images.pexels.com/photos/3683081/pexels-photo-3683081.jpeg?auto=compress&cs=tinysrgb&w=400',
    categoryId: CATEGORY_IDS.analgesics,
    requiresPrescription: false,
    activeIngredient: 'Ибупрофен',
    activeIngredientEn: 'Ibuprofen',
    dosage: '400мг',
    dosageEn: '400mg',
    manufacturer: 'Нувита Фарма',
    manufacturerEn: 'Nuvita Pharma',
    reviewCount: 67,
  },
  {
    id: 3,
    name: 'Витамин C 1000мг',
    nameEn: 'Vitamin C 1000mg',
    description: 'Високодозов витамин C за укрепване на имунната система',
    descriptionEn: 'High-dose vitamin C for immune system strengthening',
    price: 6.54,
    stockQuantity: 200,
    imageUrl:
      'https://images.pexels.com/photos/3683107/pexels-photo-3683107.jpeg?auto=compress&cs=tinysrgb&w=400',
    categoryId: CATEGORY_IDS.vitamins,
    requiresPrescription: false,
    activeIngredient: 'Аскорбинова киселина',
    activeIngredientEn: 'Ascorbic Acid',
    dosage: '1000мг',
    dosageEn: '1000mg',
    manufacturer: 'Солгар',
    manufacturerEn: 'Solgar',
    reviewCount: 134,
    promotion: {
      id: 'promo-vitamin-c',
      title: 'Имунна подкрепа',
      titleEn: 'Immune Support',
      description: 'Вземете 20% отстъпка и подпомогнете имунитета си през студените дни.',
      descriptionEn: 'Enjoy 20% off to support your immunity during the colder days.',
      promoPrice: 5.23,
      discountPercentage: 20,
      validUntil: '2025-03-31',
      badgeColor: 'orange',
    },
  },
  {
    id: 4,
    name: 'Магнезий + Витамин B6',
    nameEn: 'Magnesium + Vitamin B6',
    description: 'Комбинация за нервната система и мускулната функция',
    descriptionEn: 'Combination for nervous system and muscle function',
    price: 7.98,
    stockQuantity: 75,
    imageUrl:
      'https://images.pexels.com/photos/3683083/pexels-photo-3683083.jpeg?auto=compress&cs=tinysrgb&w=400',
    categoryId: CATEGORY_IDS.vitamins,
    requiresPrescription: false,
    activeIngredient: 'Магнезий оксид, Пиридоксин',
    activeIngredientEn: 'Magnesium Oxide, Pyridoxine',
    dosage: '375мг + 2мг',
    dosageEn: '375mg + 2mg',
    manufacturer: 'Натура Вита',
    manufacturerEn: 'Natura Vita',
    reviewCount: 98,
    promotion: {
      id: 'promo-magnesium-b6',
      title: 'Релакс пакет',
      titleEn: 'Relax Bundle',
      description: 'Специална цена за поддържане на нервната система и мускулите.',
      descriptionEn: 'Special price to support your nervous system and muscles.',
      promoPrice: 6.78,
      discountPercentage: 15,
      validUntil: '2025-04-15',
      badgeColor: 'emerald',
    },
  },
  {
    id: 5,
    name: 'Сироп за кашлица',
    nameEn: 'Cough Syrup',
    description: 'Билков сироп за сухо гърло и кашлица',
    descriptionEn: 'Herbal syrup for dry throat and cough',
    price: 4.55,
    stockQuantity: 120,
    imageUrl:
      'https://images.pexels.com/photos/3683051/pexels-photo-3683051.jpeg?auto=compress&cs=tinysrgb&w=400',
    categoryId: CATEGORY_IDS.coldFlu,
    requiresPrescription: false,
    activeIngredient: 'Екстракт от мед и лимон',
    activeIngredientEn: 'Honey and Lemon Extract',
    dosage: '15мл 3 пъти дневно',
    dosageEn: '15ml 3 times daily',
    manufacturer: 'Хербал Медика',
    manufacturerEn: 'Herbal Medica',
    reviewCount: 76,
  },
  {
    id: 6,
    name: 'Назален спрей',
    nameEn: 'Nasal Spray',
    description: 'За заложен нос при простуда и алергии',
    descriptionEn: 'For nasal congestion due to cold and allergies',
    price: 5.83,
    stockQuantity: 85,
    imageUrl:
      'https://images.pexels.com/photos/3683050/pexels-photo-3683050.jpeg?auto=compress&cs=tinysrgb&w=400',
    categoryId: CATEGORY_IDS.coldFlu,
    requiresPrescription: false,
    activeIngredient: 'Ксилометазолин',
    activeIngredientEn: 'Xylometazoline',
    dosage: '0.1%',
    dosageEn: '0.1%',
    manufacturer: 'Рино Фарм',
    manufacturerEn: 'Rhino Pharm',
    reviewCount: 52,
  },
  {
    id: 7,
    name: 'Пробиотик комплекс',
    nameEn: 'Probiotic Complex',
    description: 'За здравословна чревна флора и подобрено храносмилане',
    descriptionEn: 'For healthy intestinal flora and improved digestion',
    price: 11.5,
    stockQuantity: 60,
    imageUrl:
      'https://images.pexels.com/photos/3683110/pexels-photo-3683110.jpeg?auto=compress&cs=tinysrgb&w=400',
    categoryId: CATEGORY_IDS.digestive,
    requiresPrescription: false,
    activeIngredient: 'Лактобацили и бифидобактерии',
    activeIngredientEn: 'Lactobacilli and Bifidobacteria',
    dosage: '1 капсула дневно',
    dosageEn: '1 capsule daily',
    manufacturer: 'БиоПро',
    manufacturerEn: 'BioPro',
    reviewCount: 145,
  },
  {
    id: 8,
    name: 'Антиацид таблетки',
    nameEn: 'Antacid Tablets',
    description: 'За киселини и стомашни разстройства',
    descriptionEn: 'For acidity and stomach disorders',
    price: 3.99,
    stockQuantity: 110,
    imageUrl:
      'https://images.pexels.com/photos/3683048/pexels-photo-3683048.jpeg?auto=compress&cs=tinysrgb&w=400',
    categoryId: CATEGORY_IDS.digestive,
    requiresPrescription: false,
    activeIngredient: 'Алуминиев хидроксид',
    activeIngredientEn: 'Aluminum Hydroxide',
    dosage: '500мг',
    dosageEn: '500mg',
    manufacturer: 'ГастроМед',
    manufacturerEn: 'GastroMed',
    reviewCount: 43,
    promotion: {
      id: 'promo-antacid',
      title: 'Спокойно храносмилане',
      titleEn: 'Calm Digestion',
      description: '15% отстъпка при симптоми на киселини и стомашен дискомфорт.',
      descriptionEn: '15% off to ease heartburn and stomach discomfort.',
      promoPrice: 3.39,
      discountPercentage: 15,
      validUntil: '2025-02-28',
      badgeColor: 'emerald',
    },
  },
  {
    id: 9,
    name: 'Хидратиращ крем',
    nameEn: 'Moisturizing Cream',
    description: 'За суха и чувствителна кожа на лицето и тялото',
    descriptionEn: 'For dry and sensitive skin on face and body',
    price: 9.66,
    stockQuantity: 90,
    imageUrl:
      'https://images.pexels.com/photos/3683099/pexels-photo-3683099.jpeg?auto=compress&cs=tinysrgb&w=400',
    categoryId: CATEGORY_IDS.skincare,
    requiresPrescription: false,
    activeIngredient: 'Хиалуронова киселина',
    activeIngredientEn: 'Hyaluronic Acid',
    dosage: 'Нанасяне 2 пъти дневно',
    dosageEn: 'Apply 2 times daily',
    manufacturer: 'СкинКеър',
    manufacturerEn: 'SkinCare',
    reviewCount: 112,
  },
  {
    id: 10,
    name: 'Детски сироп парацетамол',
    nameEn: 'Children Paracetamol Syrup',
    description: 'Обезболяващо и жаропонижаващо за деца от 3 месеца',
    descriptionEn: 'Pain reliever and fever reducer for children from 3 months',
    price: 4.7,
    stockQuantity: 100,
    imageUrl:
      'https://images.pexels.com/photos/3683077/pexels-photo-3683077.jpeg?auto=compress&cs=tinysrgb&w=400',
    categoryId: CATEGORY_IDS.kids,
    requiresPrescription: false,
    activeIngredient: 'Парацетамол',
    activeIngredientEn: 'Paracetamol',
    dosage: '120мг/5мл',
    dosageEn: '120mg/5ml',
    manufacturer: 'KidsCare',
    manufacturerEn: 'KidsCare',
    reviewCount: 156,
  },
];

export const getProductById = (id: number): Product | undefined => {
  return products.find((p) => p.id === id);
};

export const getProductsByCategory = (categoryId: string): Product[] => {
  return products.filter((p) => p.categoryId === categoryId);
};

export const getCategoryById = (id: string): Category | undefined => {
  return categories.find((c) => c.id === id);
};

export const searchProducts = (searchTerm: string): Product[] => {
  const term = searchTerm.toLowerCase();
  return products.filter((p) => {
    const fields = [
      p.name,
      p.nameEn,
      p.description ?? '',
      p.descriptionEn ?? '',
      p.activeIngredient ?? '',
      p.activeIngredientEn ?? '',
      p.manufacturer ?? '',
      p.manufacturerEn ?? '',
      p.promotion?.title ?? '',
      p.promotion?.titleEn ?? '',
      p.promotion?.description ?? '',
      p.promotion?.descriptionEn ?? '',
    ];

    return fields.some((field) => field.toLowerCase().includes(term));
  });
};
